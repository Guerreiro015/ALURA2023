<!DOCTYPE html>
<html lang="pt br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600&display=swap" rel="stylesheet">


    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/styles.css">

    <link href="/cabecalho.css" rel="stylesheet">

    <header class="cabecalho">
        <a class="cabecalho_texto" href="/index.html"> Login </a>
        <a class="cabecalho_texto" href="/absento.html"> Absenteismo </a>

    </header>
    <title>Absenteismo</title>
</head>

<body>
    <div class="separa">
        <div class="escolha">
            <h3>Escolha</h3>
            <button onclick="wilson()">WILSON</button>
            <button onclick="joao()">JOAO SALES</button>
            <button onclick="gustavo()">GUSTAVO</button>
            <button onclick="todos()">ADMINISTRAÇÃO</button>
            <button onclick="escolher()">GERAL</button>
            <p>Dias Sem folgas</p>
            <p>Hora Extra Excedentes</p>
            <p>Interjornadas</p>
        </div>

        <div mostrando>
            <div class="dados">

                <div class="eventos">
                    <p class="evento_texto">Gerencia:</p>
                    <p id="gere"></p>
                </div>
                <div class="eventos">
                    <p class="evento_texto">Périodo: 2023/2024</p>
                    <p id="ano"></p>
                </div>

            </div>


            <div class="dados">

                <div class="eventos">
                    <p class="evento_texto">Horas Extra Excedentes:</p>
                    <p id="hext"></p>
                </div>
                <div class="eventos">
                    <p class="evento_texto">Interjornadas:</p>
                    <p id="inte"></p>
                </div>
                <div class="eventos">
                    <p class="evento_texto">Dias Trabalhados sem Folga:</p>
                    <p id="sfol"></p>
                </div>
            </div>

            <div class="tabelas">

                <ul>
                    <li>DEPARTAMENTO</li>
                    <li>Administração</li>
                    <li>Administração</li>
                    <li>Administração</li>
                    <li>Suplimentos</li>
                    <li>Suplimentos</li>
                    <li>Suplimentos</li>
                    <li>Dept. Pessoal</li>
                    <li>Dept. Pessoal</li>
                    <li>Dept. Pessoal</li>
                    <li>DHO / RH</li>
                    <li>DHO / RH</li>
                    <li>DHO / RH</li>
                    <li>QSMS</li>
                    <li>QSMS</li>
                    <li>QSMS</li>

                </ul>
                <ul>
                    <li>EVENTO</li>
                    <li>HE - Excedentes</li>
                    <li>Dias Sem Folga</li>
                    <li>Interjornadas</li>
                    <li>HE - Excedentes</li>
                    <li>Dias Sem Folga</li>
                    <li>Interjornadas</li>
                    <li>HE - Excedentes</li>
                    <li>Dias Sem Folga</li>
                    <li>Interjornadas</li>
                    <li>HE - Excedentes</li>
                    <li>Dias Sem Folga</li>
                    <li>Interjornadas</li>
                    <li>HE - Excedentes</li>
                    <li>Dias Sem Folga</li>
                    <li>Interjornadas</li>

                </ul>

                <ul>
                    <li>JAN</li>
                    <li id="he_adm_1"></li>
                    <li id="dsf_adm_1"></li>
                    <li id="in_adm_1"></li>
                    <li id="he_sup_1"></li>
                    <li id="dsf_sup_1"></li>
                    <li id="in_sup_1"></li>
                    <li id="he_dp_1"></li>
                    <li id="dsf_dp_1"></li>
                    <li id="in_dp_1"></li>
                    <li id="he_rh_1"></li>
                    <li id="dsf_rh_1"></li>
                    <li id="in_rh_1"></li>
                    <li id="he_qsms_1"></li>
                    <li id="dsf_qsms_1"></li>
                    <li id="in_qsms_1"></li>
                </ul>
                <ul>
                    <li>FEV</li>
                    <li id="he_adm_2"></li>
                    <li id="dsf_adm_2"></li>
                    <li id="in_adm_2"></li>
                    <li id="he_sup_2"></li>
                    <li id="dsf_sup_2"></li>
                    <li id="in_sup_2"></li>
                    <li id="he_dp_2"></li>
                    <li id="dsf_dp_2"></li>
                    <li id="in_dp_2"></li>
                    <li id="he_rh_2"></li>
                    <li id="dsf_rh_2"></li>
                    <li id="in_rh_2"></li>
                    <li id="he_qsms_2"></li>
                    <li id="dsf_qsms_2"></li>
                    <li id="in_qsms_2"></li>
                </ul>


            </div>

        </div>
    </div>
    </div>

    <script>
        function wilson() {
            var setor = "WILSON"
            mostrar(setor)
        }
        function joao() {
            var setor = "JOÃO SALES"
            mostrar(setor)
        }
        function gustavo() {
            var setor = "GUSTAVO"
            mostrar(setor)
        }
        function todos() {
            var setor = ""
            mostrar(setor)
        }

  //==============================================================================    
        function loadJSON(url, callback) {
            let xobj = new XMLHttpRequest();
            xobj.overrideMimeType('application/json');
            xobj.open('GET', url, true);
            xobj.onreadystatechange = () => {
                if (xobj.readyState === 4 && xobj.status === 200) {
                    callback(xobj.responseText);
                }
            };
            xobj.send(null);
        }

        function mostrar(elementos) {

            loadJSON('banco.json', (responseText) => {
                const Dados = JSON.parse(responseText);
//=================================================================================
                var totaldsf = 0
                var totalhex = 0
                var totalint = 0

                var total_evento = Dados.GERENCIA.GUSTAVO.length
                document.getElementById("he_adm_1").innerHTML = 'total denhene'
                document.getElementById("he_adm_2").innerHTML = total_evento
                document.getElementById("dsf_adm_1").innerHTML = total_evento

                for (i = 0; i <= Dados.length; i++) {
                    // Aqui você pode manipular os dados do arquivo JSON
                    if (Dados[i].GERENCIA == elementos) {

                        if (Dados[i].Evento == "DIAS SEM FOLGAS") {
                            totaldsf++
                        }
                        if (Dados[i].Evento == "HE-EXCEDENTES") {
                            totalhex++
                        }
                        if (Dados[i].Evento == "INTERJORNADAS") {
                            totalint++
                        }

                    }

                    document.getElementById("gere").innerHTML = elementos
                    document.getElementById("sfol").innerHTML = totaldsf
                    document.getElementById("hext").innerHTML = totalhex
                    document.getElementById("inte").innerHTML = totalint
                   
                }

            });

        }

    </script>



</body>

</html>